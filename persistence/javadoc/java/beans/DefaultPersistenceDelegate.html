<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Jan 18 17:24:17 PST 2001 -->
<TITLE>
: Class  DefaultPersistenceDelegate
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../java/beans/Encoder.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DefaultPersistenceDelegate.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
java.beans</FONT>
<BR>
Class  DefaultPersistenceDelegate</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../java/beans/PersistenceDelegate.html">java.beans.PersistenceDelegate</A>
        |
        +--<B>java.beans.DefaultPersistenceDelegate</B>
</PRE>
<HR>
<DL>
<DT>public class <B>DefaultPersistenceDelegate</B><DT>extends <A HREF="../../java/beans/PersistenceDelegate.html">PersistenceDelegate</A></DL>

<P>
The <code>DefaultPersistenceDelegate</code> is a concrete implementation of 
 the abstract <code>PersistenceDelegate</code> class and 
 is the delegate used by default for classes about 
 which no information is available. The <code>DefaultPersistenceDelegate</code> 
 provides, version resilient, public API-based persistence for 
 classes that follow the JavaBeans conventions without any class specific 
 configuration. 
 <p>
 The key assumptions are that the class has a nullary constructor 
 and that its state is accurately represented by matching pairs 
 of "setter" and "getter" methods in the order they are returned 
 by the Introspector. 
 In addition to providing code-free persistence for JavaBeans, 
 the <code>DefaultPersistenceDelegate</code> provides a convenient means 
 to effect persistent storage for classes that have a constructor 
 that, while not nullary, simply requires some property values 
 as arguments.
<P>
<DL>
<DT><B>Since: </B><DD>1.4</DD>
<DT><B>See Also: </B><DD><A HREF="../../java/beans/DefaultPersistenceDelegate.html#DefaultPersistenceDelegate(java.lang.String[])"><CODE>DefaultPersistenceDelegate(String[])</CODE></A>, 
<CODE>java.beans.Introspector</CODE></DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../java/beans/DefaultPersistenceDelegate.html#DefaultPersistenceDelegate()">DefaultPersistenceDelegate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a persistence delegate for a class with a nullary constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../java/beans/DefaultPersistenceDelegate.html#DefaultPersistenceDelegate(java.lang.String[])">DefaultPersistenceDelegate</A></B>(java.lang.String[]&nbsp;constructorPropertyNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a default persistence delegate for a class with a 
 constructor whose arguments are the values of the property 
 names as specified by <code>constructorPropertyNames</code>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/beans/DefaultPersistenceDelegate.html#initialize(java.lang.Class, java.lang.Object, java.lang.Object, java.beans.Encoder)">initialize</A></B>(java.lang.Class&nbsp;type,
           java.lang.Object&nbsp;oldInstance,
           java.lang.Object&nbsp;newInstance,
           <A HREF="../../java/beans/Encoder.html">Encoder</A>&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This default implementation of the <code>initialize</code> method assumes 
 all state held in objects of this type is exposed via the 
 matching pairs of "setter" and "getter" methods in the order 
 they are returned by the Introspector.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../java/beans/Expression.html">Expression</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/beans/DefaultPersistenceDelegate.html#instantiate(java.lang.Object, java.beans.Encoder)">instantiate</A></B>(java.lang.Object&nbsp;oldInstance,
            <A HREF="../../java/beans/Encoder.html">Encoder</A>&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This default implementation of the <code>instantiate</code> method returns  
 an expression containing the predefined method name "new" which denotes a 
 call to a constructor with the arguments as specified in  
 the <code>DefaultPersistenceDelegate</code>'s constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../java/beans/DefaultPersistenceDelegate.html#mutatesTo(java.lang.Object, java.lang.Object)">mutatesTo</A></B>(java.lang.Object&nbsp;oldInstance,
          java.lang.Object&nbsp;newInstance)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the number of arguments in the specified constructor is non-zero 
 this method returns true if, and only if, 
 <code>oldInstance.equals(newInstance)</code>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.beans.PersistenceDelegate"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.beans.<A HREF="../../java/beans/PersistenceDelegate.html">PersistenceDelegate</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../java/beans/PersistenceDelegate.html#writeObject(java.lang.Object, java.beans.Encoder)">writeObject</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="DefaultPersistenceDelegate()"><!-- --></A><H3>
DefaultPersistenceDelegate</H3>
<PRE>
public <B>DefaultPersistenceDelegate</B>()</PRE>
<DL>
<DD>Creates a persistence delegate for a class with a nullary constructor.<DD><DL>
<DT><B>See Also: </B><DD><A HREF="../../java/beans/DefaultPersistenceDelegate.html#DefaultPersistenceDelegate(java.lang.String[])"><CODE>DefaultPersistenceDelegate(java.lang.String[])</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="DefaultPersistenceDelegate(java.lang.String[])"><!-- --></A><H3>
DefaultPersistenceDelegate</H3>
<PRE>
public <B>DefaultPersistenceDelegate</B>(java.lang.String[]&nbsp;constructorPropertyNames)</PRE>
<DL>
<DD>Creates a default persistence delegate for a class with a 
 constructor whose arguments are the values of the property 
 names as specified by <code>constructorPropertyNames</code>. 
 The constructor arguments are created by 
 evaluating the property names in the order they are supplied. 
 To use this class to specify a single preferred constructor for use 
 in the serialization of a particular type, we state the 
 names of the properties that make up the constructor's 
 arguments. For example, the <code>Font</code> class which 
 does not define a nullary constructor can be handled 
 with the following persistence delegate: 

 <pre>
     new DefaultPersistenceDelegate(new String[]{"name", "style", "size"});
 </pre><DD><DL>
<DT><B>Parameters:</B><DD><CODE>constructorPropertyNames</CODE> - The property names for the arguments of this constructor.<DT><B>See Also: </B><DD><A HREF="../../java/beans/DefaultPersistenceDelegate.html#instantiate(java.lang.Object, java.beans.Encoder)"><CODE>instantiate(java.lang.Object, java.beans.Encoder)</CODE></A></DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="mutatesTo(java.lang.Object, java.lang.Object)"><!-- --></A><H3>
mutatesTo</H3>
<PRE>
protected boolean <B>mutatesTo</B>(java.lang.Object&nbsp;oldInstance,
                            java.lang.Object&nbsp;newInstance)</PRE>
<DL>
<DD>If the number of arguments in the specified constructor is non-zero 
 this method returns true if, and only if, 
 <code>oldInstance.equals(newInstance)</code>. Otherwise, this method  
 uses the superclass's definition which returns true if the 
 classes of the two instances are equal.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../java/beans/PersistenceDelegate.html#mutatesTo(java.lang.Object, java.lang.Object)">mutatesTo</A></CODE> in class <CODE><A HREF="../../java/beans/PersistenceDelegate.html">PersistenceDelegate</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>oldInstance</CODE> - The instance to be copied.<DD><CODE>newInstance</CODE> - The instance that is to be modified.<DT><B>Returns:</B><DD>True if an equivalent copy of <code>newInstance</code> may be 
         created by applying a series of mutations to <code>oldInstance</code>.<DT><B>See Also: </B><DD><A HREF="../../java/beans/DefaultPersistenceDelegate.html#DefaultPersistenceDelegate(java.lang.String[])"><CODE>DefaultPersistenceDelegate(String[])</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="instantiate(java.lang.Object, java.beans.Encoder)"><!-- --></A><H3>
instantiate</H3>
<PRE>
protected <A HREF="../../java/beans/Expression.html">Expression</A> <B>instantiate</B>(java.lang.Object&nbsp;oldInstance,
                                 <A HREF="../../java/beans/Encoder.html">Encoder</A>&nbsp;out)</PRE>
<DL>
<DD>This default implementation of the <code>instantiate</code> method returns  
 an expression containing the predefined method name "new" which denotes a 
 call to a constructor with the arguments as specified in  
 the <code>DefaultPersistenceDelegate</code>'s constructor.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../java/beans/PersistenceDelegate.html#instantiate(java.lang.Object, java.beans.Encoder)">instantiate</A></CODE> in class <CODE><A HREF="../../java/beans/PersistenceDelegate.html">PersistenceDelegate</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>oldInstance</CODE> - The instance to be instantiated.<DD><CODE>out</CODE> - The code output stream.<DT><B>Returns:</B><DD>An expression whose value is <code>oldInstance</code>.<DT><B>See Also: </B><DD><A HREF="../../java/beans/DefaultPersistenceDelegate.html#DefaultPersistenceDelegate(java.lang.String[])"><CODE>DefaultPersistenceDelegate(String[])</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="initialize(java.lang.Class, java.lang.Object, java.lang.Object, java.beans.Encoder)"><!-- --></A><H3>
initialize</H3>
<PRE>
protected void <B>initialize</B>(java.lang.Class&nbsp;type,
                          java.lang.Object&nbsp;oldInstance,
                          java.lang.Object&nbsp;newInstance,
                          <A HREF="../../java/beans/Encoder.html">Encoder</A>&nbsp;out)</PRE>
<DL>
<DD>This default implementation of the <code>initialize</code> method assumes 
 all state held in objects of this type is exposed via the 
 matching pairs of "setter" and "getter" methods in the order 
 they are returned by the Introspector. If a property descriptor 
 defines a "transient" attribute with a value equal to 
 <code>Boolean.TRUE</code> the property is ignored by this 
 default implementation. Note that this use of the word 
 "transient" is quite independent of the field modifier 
 that is used by the <code>ObjectOutputStream</code>.
 <p>
 For each non-transient property, an expression is created 
 in which the nullary "getter" method is applied 
 to the <code>oldInstance</code>. The value of this 
 expression is the value of the property in the instance that is 
 being serialized. If the value of this expression 
 in the cloned environment <code>mutatesTo</code> the 
 target value, the new value is initialized to make it 
 equivalent to the old value. In this case, because 
 the property value has not changed there is no need to 
 call the corresponding "setter" method and no statement 
 is emitted. If not however, the expression for this value 
 is replaced with another expression (normally a constructor) 
 and the corresponding "setter" method is called to install 
 the new property value in the object. This scheme removes 
 default information from the output produced by streams 
 using this delegate. 
 <p>
 In passing these statements to the output stream, where they 
 will be executed, side effects are made to the <code>newInstance</code>. 
 In most cases this allows the problem of properties 
 whose values depend on each other to actually help the 
 serialization process by making the number of statements  
 that need to be written to the output smaller. In general, 
 the problem of handling interdependent properties is reduced to 
 that of finding an order for the properties in 
 a class such that no property value depends on the value of 
 a subsequent property.<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../java/beans/PersistenceDelegate.html#initialize(java.lang.Class, java.lang.Object, java.lang.Object, java.beans.Encoder)">initialize</A></CODE> in class <CODE><A HREF="../../java/beans/PersistenceDelegate.html">PersistenceDelegate</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>oldInstance</CODE> - The instance to be copied.<DD><CODE>newInstance</CODE> - The instance that is to be modified.<DD><CODE>out</CODE> - The stream to which any initialization statements should be written.<DT><B>See Also: </B><DD><CODE>java.beans.Introspector#getBeanInfo</CODE>, 
<CODE>java.beans.PropertyDescriptor</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../java/beans/Encoder.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DefaultPersistenceDelegate.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
